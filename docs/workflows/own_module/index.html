<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<title data-react-helmet="true">Starting Cornell from your own module | Cornell</title><meta data-react-helmet="true" property="og:url" content="https://hiredscorelabs.github.io//cornell/docs/workflows/own_module/"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Starting Cornell from your own module | Cornell"><meta data-react-helmet="true" name="description" content="In order to extend Cornell with additional matchers, or register to its hooks,"><meta data-react-helmet="true" property="og:description" content="In order to extend Cornell with additional matchers, or register to its hooks,"><link data-react-helmet="true" rel="shortcut icon" href="/cornell/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://hiredscorelabs.github.io//cornell/docs/workflows/own_module/"><link data-react-helmet="true" rel="alternate" href="https://hiredscorelabs.github.io//cornell/docs/workflows/own_module/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://hiredscorelabs.github.io//cornell/docs/workflows/own_module/" hreflang="x-default"><link rel="stylesheet" href="/cornell/assets/css/styles.9a7df9e7.css">
<link rel="preload" href="/cornell/assets/js/runtime~main.7ba7049b.js" as="script">
<link rel="preload" href="/cornell/assets/js/main.cefc3a28.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cornell/"><img src="/cornell/img/cornell.png" alt="Cornell Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/cornell/img/cornell.png" alt="Cornell Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Cornell</b></a><a class="navbar__item navbar__link navbar__link--active" href="/cornell/docs/examples/">Documentation</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/cornell/"><img src="/cornell/img/cornell.png" alt="Cornell Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/cornell/img/cornell.png" alt="Cornell Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Cornell</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/cornell/docs/examples/">Documentation</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu menu--responsive thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/cornell/docs/examples/">System In Action</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Workflows</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cornell/docs/workflows/basic_workflow/">Basic Workflow</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/cornell/docs/workflows/own_module/">Starting Cornell from your own module</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cornell/docs/workflows/custom_matchers/">Adding Custom Matchers</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="markdown"><header><h1 class="h1Heading_27L5">Starting Cornell from your own module</h1></header><p>In order to extend Cornell with additional matchers, or register to its hooks,
you first will need to start the cornell service from your own internal module.
This can be easily done by inheriting <code>CornellCmdOptions</code> <a href="https://click.palletsprojects.com/en/8.0.x/" target="_blank" rel="noopener noreferrer">click</a> from <code>cornell.cornell_server</code></p><p> For example:
In a separate module (i.e. <code>cornell_wrapper.py</code>), create the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#!/usr/bin/env python</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> click</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> pathlib </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Path</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> cornell</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cornell_server </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> CornellCmdOptions</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> start_cornell</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#393A34">@click</span><span class="token decorator annotation punctuation" style="color:#393A34">.</span><span class="token decorator annotation punctuation" style="color:#393A34">command</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cls</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">CornellCmdOptions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#393A34">@click</span><span class="token decorator annotation punctuation" style="color:#393A34">.</span><span class="token decorator annotation punctuation" style="color:#393A34">option</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;--hello&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> default</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> is_flag</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">help</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Say hello&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">start_mock_service</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">hello</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    cassettes_dir </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">__file__</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">absolute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">parent</span><span class="token operator" style="color:#393A34">/</span><span class="token string" style="color:#e3116c">&quot;mock_service&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> hello</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Hello from Cornell :)&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    start_cornell</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cassettes_dir</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">cassettes_dir</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;__main__&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    start_mock_service</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>In this example, we modified the following:</p><ul><li>Set a default <code>cassettes_dir</code>, so when the wrapper is executed it will be used instead of a default one</li><li>Added another command argument, to extend possible functionality</li></ul><p>Running:</p><p> <code> ./tasks_worker/tests/cornell_wrapper.py --hello</code></p><p> will result in:</p><p> <code>Hello from Cornell :)</code></p><p>Running the same command without arguments, will start Cornell, with with a default cassettes_dir.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/cornell/docs/workflows/basic_workflow/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Basic Workflow</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/cornell/docs/workflows/custom_matchers/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Adding Custom Matchers Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">HiredScore</div><ul class="footer__items"><li class="footer__item"><a href="https://hiredscore.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">HiredScore Website</a></li><li class="footer__item"><a href="https://blog.hiredscore.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">HiredScore Blog</a></li><li class="footer__item"><a href="https://medium.com/hiredscore-engineering" target="_blank" rel="noopener noreferrer" class="footer__link-item">HiredScore Engineering Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 HiredScore, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/cornell/assets/js/runtime~main.7ba7049b.js"></script>
<script src="/cornell/assets/js/main.cefc3a28.js"></script>
</body>
</html>